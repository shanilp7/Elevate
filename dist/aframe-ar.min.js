!function(e){function t(i){if(a[i])return a[i].exports;var r=a[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){a(8),a(7),a(4),a(1),a(3),a(6),a(2),a(5)},function(e,t){AFRAME.registerComponent("ar-anchors",{getSource:function(){var e;return this.source||(e=this.el.sceneEl.components["three-ar"],e&&e.arDisplay&&(this.source=e.arDisplay)),this.source||(e=this.el.sceneEl.components["mozilla-xr-ar"],e&&e.arDisplay&&(this.source=e)),this.source},getAnchors:function(){var e=this.getSource();if(e&&e.getAnchors)return e.getAnchors()}})},function(e,t){AFRAME.registerComponent("ar-camera",{schema:{enabled:{default:!0}},init:function(){var e=this.el.getAttribute("look-controls");this.wasLookControlsEnabled=!!e&&e.enabled},update:function(e){if(!e||e.enabled!==this.data.enabled)if(this.data.enabled){var t=this.el.getAttribute("look-controls");this.wasLookControlsEnabled=!!t&&t.enabled,this.wasLookControlsEnabled&&this.el.setAttribute("look-controls","enabled",!1)}else this.wasLookControlsEnabled&&this.el.setAttribute("look-controls","enabled",!0)},tick:function(e,t){if(this.data.enabled){var a=this.checkWhichAR();a&&(this.el.setAttribute("position",a.getPosition()),this.el.setAttribute("rotation",a.getRotation()),this.el.sceneEl.is("vr-mode")||(this.el.components.camera.camera.projectionMatrix=a.getProjectionMatrix()))}},checkWhichAR:function(){if(!this.whichar){var e=this.el.sceneEl.components["three-ar"];if(e&&e.arDisplay||(e=this.el.sceneEl.components["mozilla-xr-ar"]),!e||!e.arDisplay)return;this.whichar=e}return this.whichar}})},function(e,t){AFRAME.registerComponent("ar-images",{getSource:function(){var e;return this.source||(e=this.el.sceneEl.components["three-ar"],e&&e.arDisplay&&(this.source=e.arDisplay)),this.source||(e=this.el.sceneEl.components["mozilla-xr-ar"],e&&e.arDisplay&&(this.source=e)),this.source},addImage:function(e,t,a){var i=this.getSource();if(i&&i.addImage)return i.addImage(e,t,a)},removeImage:function(e){var t=this.getSource();if(t&&t.removeImage)return t.removeImage(e)}})},function(e,t){AFRAME.registerComponent("ar-planes",{getPlaneSource:function(){var e;return this.planeSource||(e=this.el.sceneEl.components["three-ar"],e&&e.arDisplay&&(this.planeSource=e.arDisplay)),this.planeSource||(e=this.el.sceneEl.components["mozilla-xr-ar"],e&&e.arDisplay&&(this.planeSource=e)),this.planeSource},getPlanes:function(){var e=this.getPlaneSource();if(e&&e.getPlanes)return e.getPlanes()},init:function(){this.planes={},this.anchorsAdded=[],this.anchorsAddedDetail={type:"added",anchors:this.anchorsAdded},this.anchorsUpdated=[],this.anchorsUpdatedDetail={type:"updated",anchors:this.anchorsUpdated},this.anchorsRemoved=[],this.anchorsRemovedDetail={type:"removed",anchors:this.anchorsRemoved}},tick:function(e,t){var a=new THREE.Vector3(1,1,1),i=new THREE.Matrix4,r=new THREE.Vector3,n=new THREE.Quaternion;return function(e,t){var o=this.getPlanes();if(o){var s,c=[],l=[],h=[],d={};for(s=0;o&&s<o.length;s++){var u,p=o[s],m=(void 0!==p.identifier?p.identifier:p.id).toString(),g=p.timestamp;d[m]=!0;var f=!this.planes[m],w=void 0!==g;if(f||!w||g!==this.planes[m].timestamp){if(u={identifier:m},void 0!==g&&(u.timestamp=g),p.modelMatrix||p.transform?u.modelMatrix=p.modelMatrix||p.transform:(r.fromArray(p.position),n.fromArray(p.orientation),a.set(1,1,1),i.compose(r,n,a),u.modelMatrix=i.elements.slice()),u.extent=p.extent,p.center&&(u.center=p.center),p.polygon?u.vertices=p.polygon:p.vertices&&(u.vertices=p.vertices),f)c.push(u);else if(w)l.push(u);else{if(AFRAME.utils.deepEqual(u,this.planes[m]))continue;l.push(u)}w?this.planes[m]=u:(this.planes[m]={identifier:u.identifier,modelMatrix:u.modelMatrix.slice(),extent:u.extent.slice()},u.vertices&&(this.planes[m].vertices=u.vertices.slice()))}}var E=this;Object.keys(E.planes).forEach(function(e){d[e]||(h.push(E.planes[e]),delete E.planes[e])}),this.anchorsAdded=c,c.length>0&&(this.anchorsAddedDetail.anchors=c,this.el.emit("anchorsadded",this.anchorsAddedDetail)),this.anchorsUpdated=l,l.length>0&&(this.anchorsUpdatedDetail.anchors=l,this.el.emit("anchorsupdated",this.anchorsUpdatedDetail)),this.anchorsRemoved=h,h.length>0&&(this.anchorsRemovedDetail.anchors=h,this.el.emit("anchorsremoved",this.anchorsRemovedDetail))}}}()})},function(e,t){AFRAME.registerComponent("ar-raycaster",{dependencies:["raycaster"],schema:{x:{default:.5},y:{default:.5},el:{type:"selector"}},init:function(){this.raycaster=this.el.components.raycaster.raycaster,this.raycasterIntersectObjects=this.raycaster.intersectObjects.bind(this.raycaster),this.raycaster.intersectObjects=this.intersectObjects.bind(this)},update:function(e){this.data.el||this.el.sceneEl.object3D.el||(this.el.sceneEl.object3D.el=this.el.sceneEl)},intersectObjects:function(e,t,a){var i=this.raycasterIntersectObjects(e,t,a);return i=a?a=a.concat(this.hitAR()):i.concat(this.hitAR())},hitAR:function(){var e=this.checkWhichAR();if(!e||!e.arDisplay)return[];var t=this.data.x,a=this.data.y;return arguments.length>=2&&(t=arguments[0],a=arguments[1]),e.hitAR(t,a,this.data.el,this.el)},checkWhichAR:function(){if(!this.whichar){var e=this.el.sceneEl.components["three-ar"];if(e&&e.arDisplay||(e=this.el.sceneEl.components["mozilla-xr-ar"]),!e||!e.arDisplay)return;this.whichar=e}return this.whichar}})},function(e,t){AFRAME.registerComponent("ar",{schema:{takeOverCamera:{default:!0},cameraUserHeight:{default:!1},worldSensing:{default:!1},hideUI:{default:!0}},dependencies:["three-ar","mozilla-xr-ar","ar-planes","ar-anchors"],getSource:function(){var e;return this.source||(e=this.el.sceneEl.components["three-ar"],e&&e.arDisplay&&(this.source=e.arDisplay)),this.source||(e=this.el.sceneEl.components["mozilla-xr-ar"],e&&e.arDisplay&&(this.source=e)),this.source},getPlanes:function(){return this.source?this.source.getPlanes():void 0},getAnchors:function(){return this.source?this.source.getAnchors():void 0},addImage:function(e,t,a){return this.source.addImage(e,t,a)},removeImage:function(e){return this.source.removeImage(e)},init:function(){var e={takeOverCamera:this.data.takeOverCamera,cameraUserHeight:this.data.cameraUserHeight,worldSensing:this.data.worldSensing};this.el.setAttribute("three-ar",e),this.el.setAttribute("mozilla-xr-ar",e),this.data.hideUI&&this.el.sceneEl.setAttribute("vr-mode-ui",{enabled:!1}),document.head.insertAdjacentHTML("beforeend","<style>html,body {background-color: transparent !important;}</style>")}})},function(e,t){function a(e){var t,a=e.length,i=new Float32Array(3*a),r=0,n=0;for(r=0;r<a;r++)t=e[r],i[n]=t.x,i[n+1]=t.y,i[n+2]=t.z,n+=3;return i}function i(e){var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=e;e instanceof ArrayBuffer?i=new Uint8Array(arrayBuffer):e instanceof ImageData&&(i=e.data);for(var r,n,o,s,c,l=e.length,h=l%3,d=l-h,u=0;u<d;u+=3)c=i[u]<<16|i[u+1]<<8|i[u+2],r=(16515072&c)>>18,n=(258048&c)>>12,o=(4032&c)>>6,s=63&c,t+=a[r]+a[n]+a[o]+a[s];return 1==h?(c=i[d],r=(252&c)>>2,n=(3&c)<<4,t+=a[r]+a[n]+"=="):2==h&&(c=i[d]<<8|i[d+1],r=(64512&c)>>10,n=(1008&c)>>4,o=(15&c)<<2,t+=a[r]+a[n]+a[o]+"="),t}AFRAME.registerComponent("mozilla-xr-ar",{schema:{takeOverCamera:{default:!0},cameraUserHeight:{default:!1},worldSensing:{default:!1}},init:function(){this.onInit=this.onInit.bind(this),this.onWatch=this.onWatch.bind(this),this.poseMatrix=new THREE.Matrix4,this.posePosition=new THREE.Vector3,this.poseQuaternion=new THREE.Quaternion,this.poseEuler=new THREE.Euler(0,0,0,"YXZ"),this.poseRotation=new THREE.Vector3,this.projectionMatrix=new THREE.Matrix4,this.viewMatrix=new THREE.Matrix4,this.onceSceneLoaded=this.onceSceneLoaded.bind(this),this.el.sceneEl.hasLoaded?setTimeout(this.onceSceneLoaded):this.el.sceneEl.addEventListener("loaded",this.onceSceneLoaded),this.planes_=new Map,this.anchors_=new Map},takeOverCamera:function(e){this.arCamera=e,e.el.setAttribute("ar-camera","enabled",!0)},onceSceneLoaded:function(){if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.initAR){setTimeout(function(){var e=AFRAME.scenes[0];e.canvas.style.position="absolute !important",e.canvas.style.width="100% !important",e.canvas.style.height="100% !important",setTimeout(function(){e.resize()})},1e3),window.arkitCallback0=this.onInit,window.arkitCallback1=this.onWatch;var e={options:{ui:{browser:!0,points:!0,focus:!1,rec:!0,rec_time:!0,mic:!1,build:!1,plane:!0,warnings:!0,anchors:!1,debug:!0,statistics:!1}},callback:"arkitCallback0"};window.setNativeTime=function(e){window.nativeTime=e.nativeTime},["arTrackingChanged","userGrantedWorldSensingData","arkitDidMoveBackground","arkitStartRecording","arkitStopRecording","arkitInterruptionEnded","arkitShowDebug","onError"].forEach(function(e){window[e]=function(t){console.log(e+":",t)}}),window.webkit.messageHandlers.initAR.postMessage(e)}},checkForARDisplay:function(){if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.watchAR){this.arDisplay=!0;var e={options:{location:!0,camera:!0,objects:!0,light_intensity:!0,worldSensing:this.data.worldSensing},callback:"arkitCallback1"};window.arkitWindowResize=function(){setTimeout(function(){AFRAME.scenes[0].resize()},100)},window.webkit.messageHandlers.watchAR.postMessage(e);var t=this,a=t.el.sceneEl;t.data.takeOverCamera&&setTimeout(function(){t.takeOverCamera(a.camera)}),a.renderer.setPixelRatio(1),a.renderer.autoClear=!1,a.renderer.setClearColor("#000",0),a.renderer.alpha=!0}},onInit:function(e){this.checkForARDisplay()},onWatch:function(e){this.frameData=e,this.handleFrame(e)},handleFrame:function(e){this.poseMatrix.fromArray(e.camera_transform),this.poseMatrix.decompose(this.posePosition,this.poseQuaternion,this.poseRotation),this.poseEuler.setFromQuaternion(this.poseQuaternion),this.poseRotation.set(THREE.Math.RAD2DEG*this.poseEuler.x,THREE.Math.RAD2DEG*this.poseEuler.y,THREE.Math.RAD2DEG*this.poseEuler.z),this.projectionMatrix.fromArray(e.projection_camera),this.viewMatrix.fromArray(e.camera_view),this.arCamera&&this.data.cameraUserHeight&&(this.posePosition.y+=this.arCamera.el.components.camera.data.userHeight);var t=this.posePosition.x||this.posePosition.y||this.posePosition.z||this.poseQuaternion.x||this.poseQuaternion.y||this.poseQuaternion.z;t?this.poseLost!==!1&&(this.poseLost=!1,this.el.emit("poseFound")):this.poseLost!==!0&&(this.poseLost=!0,this.el.emit("poseLost",!1));var i,r;if(e.newObjects&&e.newObjects.length)for(i=0;i<e.newObjects.length;i++)if(r=e.newObjects[i],r.plane_center)this.planes_.set(r.uuid,{id:r.uuid,center:r.plane_center,extent:[r.plane_extent.x,r.plane_extent.z],modelMatrix:r.transform,alignment:r.plane_alignment,vertices:a(r.geometry.vertices)});else{var n={id:r.uuid,modelMatrix:r.transform};"image"===r.type&&(n.name=r.uuid),this.anchors_.set(r.uuid,n)}if(e.removedObjects&&e.removedObjects.length)for(i=0;i<e.removedObjects.length;i++)r=e.removedObjects[i],this.planes_.get(r)?this.planes_.delete(r):this.anchors_.delete(r);if(e.objects&&e.objects.length)for(i=0;i<e.objects.length;i++)if(r=e.objects[i],r.plane_center){var o=this.planes_.get(r.uuid);o?(o.center=r.plane_center,o.extent=[r.plane_extent.x,r.plane_extent.z],o.modelMatrix=r.transform,o.alignment=r.plane_alignment,o.vertices=a(r.geometry.vertices)):this.planes_.set(r.uuid,{id:r.uuid,center:r.plane_center,extent:[r.plane_extent.x,r.plane_extent.z],modelMatrix:r.transform,alignment:r.plane_alignment,vertices:a(r.geometry.vertices)})}else{var s=this.anchors_.get(r.uuid);s?s.modelMatrix=r.transform:this.anchors_.set(r.uuid,{id:r.uuid,modelMatrix:r.transform})}},getPosition:function(){return this.arDisplay?this.posePosition:null},getOrientation:function(){return this.arDisplay?this.poseQuaternion:null},getRotation:function(){return this.arDisplay?this.poseRotation:null},getProjectionMatrix:function(){return this.arDisplay?this.projectionMatrix:null},addImage:function(e,t,a){if(!this.arDisplay)return null;var r,n=document.createElement("canvas"),o=n.getContext("2d");if(r||(r=document.createElement("img"),r.crossOrigin="anonymous",r.src=t,document.body.appendChild(r)),!r.complete||!r.naturalHeight)return void console.log("!!! addImage: !aImg.complete || !aImg.naturalHeight, aborting");if(!r.width||!r.height)return void console.log("!!! addImage: !aImg.width || !aImg.height, aborting");n.width=r.width,n.height=r.height,o.drawImage(r,0,0);var s=o.getImageData(0,0,r.width,r.height),c=i(s.data);if(!c)return void console.log("!!! addImage: !b64ImageData, aborting");window.callbackForCreateImageAnchorCounter=(window.callbackForCreateImageAnchorCounter||0)+1;var l="callbackForCreateImageAnchor_"+window.callbackForCreateImageAnchorCounter,h=e;window[l]=function(e){void 0!==e.created?e.created?window.webkit.messageHandlers.activateDetectionImage.postMessage({callback:l,uid:h}):(console.log("addImage: !created; ",e.error),delete window[l]):void 0!==e.activated&&(e.activated||console.log("addImage: !activated; ",e.error),delete window[l])},window.webkit.messageHandlers.createImageAnchor.postMessage({callback:l,uid:e,buffer:c,imageWidth:r.width,imageHeight:r.height,physicalWidth:a})},removeImage:function(e){if(!this.arDisplay)return null;window.callbackForRemoveImageAnchorCounter=(window.callbackForRemoveImageAnchorCounter||0)+1;var t="callbackForRemoveImageAnchor_"+window.callbackForRemoveImageAnchorCounter,a=e;window[t]=function(e){void 0!==e.deactivated&&(e.deactivated||(console.log("!!! "+t+": !deactivated",e.error),delete window[t]),window.webkit.messageHandlers.destroyDetectionImage.postMessage({callback:t,uid:a})),void 0!==e.destroyed&&(e.destroyed||console.log("!!! "+t+": !destroyed, ",e.error),delete window[t])},window.webkit.messageHandlers.deactivateDetectionImage.postMessage({callback:t,uid:a})},getAnchors:function(){return Array.from(this.anchors_.values())},getPlanes:function(){return Array.from(this.planes_.values())},hitTestNoAnchor:function(){function e(){return this.modelMatrix=new Float32Array(16),this}var t={rayStart:new THREE.Vector3,rayEnd:new THREE.Vector3,cameraPosition:new THREE.Vector3,cameraQuaternion:new THREE.Quaternion,projViewMatrix:new THREE.Matrix4,worldRayStart:new THREE.Vector3,worldRayEnd:new THREE.Vector3,worldRayDir:new THREE.Vector3,planeMatrix:new THREE.Matrix4,planeMatrixInverse:new THREE.Matrix4,planeExtent:new THREE.Vector3,planePosition:new THREE.Vector3,planeCenter:new THREE.Vector3,planeNormal:new THREE.Vector3,planeIntersection:new THREE.Vector3,planeIntersectionLocal:new THREE.Vector3,planeHit:new THREE.Matrix4,planeQuaternion:new THREE.Quaternion},a=function(){var e=new THREE.Vector3;return function(t,a,i,r){var n=t.dot(r);return e.subVectors(a,i),e.dot(t)/n}}(),i=function(e,a){t.planeMatrix.fromArray(e.modelMatrix),t.planeIntersection.setFromMatrixPosition(t.planeMatrix);var i=t.planeIntersection.distanceTo(t.cameraPosition);t.planeMatrix.fromArray(a.modelMatrix),t.planeIntersection.setFromMatrixPosition(t.planeMatrix);var r=t.planeIntersection.distanceTo(t.cameraPosition);return i<r?-1:1};return function(r,n){if(r<0||r>1||n<0||n>1)throw new Error("hitTest - x and y values must be normalized [0,1]!");var o=[],s=this.getPlanes();if(!s||0===s.length)return o;t.rayStart.set(2*r-1,2*(1-n)-1,0),t.rayEnd.set(2*r-1,2*(1-n)-1,1),t.planeMatrix.multiplyMatrices(this.projectionMatrix,this.viewMatrix),t.projViewMatrix.getInverse(t.planeMatrix),t.worldRayStart.copy(t.rayStart).applyMatrix4(t.projViewMatrix),t.worldRayEnd.copy(t.rayEnd).applyMatrix4(t.projViewMatrix),t.worldRayDir.subVectors(t.worldRayEnd,t.worldRayStart).normalize();for(var c=0;c<s.length;c++){var l=s[c];t.planeMatrix.fromArray(l.modelMatrix),t.planeCenter.set(l.center.x,l.center.y,l.center.z),t.planePosition.copy(t.planeCenter).applyMatrix4(t.planeMatrix),t.planeAlignment=l.alignment,0===t.planeAlignment?t.planeNormal.set(0,1,0):t.planeNormal.set(t.planeMatrix[4],t.planeMatrix[5],t.planeMatrix[6]);var h=a(t.planeNormal,t.planePosition,t.worldRayStart,t.worldRayDir);if(!(h<0)){t.planeIntersectionLocal.copy(t.worldRayDir).multiplyScalar(h),t.planeIntersection.addVectors(t.worldRayStart,t.planeIntersectionLocal),t.planeExtent.set(l.extent[0],0,l.extent[1]),t.planeMatrixInverse.getInverse(t.planeMatrix),t.planeIntersectionLocal.copy(t.planeIntersection).applyMatrix4(t.planeMatrixInverse);var d=.0075;if(!(Math.abs(t.planeIntersectionLocal.x)>t.planeExtent.x/2+d||Math.abs(t.planeIntersectionLocal.z)>t.planeExtent.z/2+d)){t.planeQuaternion.setFromRotationMatrix(t.planeMatrix),t.planeHit.makeRotationFromQuaternion(t.planeQuaternion).setPosition(t.planeIntersection);for(var u=new e,p=0;p<16;p++)u.modelMatrix[p]=t.planeHit.elements[p];u.i=c,o.push(u)}}}return o.sort(i),o}}(),hitAR:function(){var e=new THREE.Matrix4,t=new THREE.Vector3,a=new THREE.Quaternion,i=new THREE.Vector3,r=new THREE.Vector3;return function(n,o,s,c){if(!this.arDisplay)return[];for(var l=this.hitTestNoAnchor(n,o),h=[],d=0;l&&d<l.length;d++)e.fromArray(l[d].modelMatrix),e.decompose(t,a,i),c.object3D.getWorldPosition(r),h.push({distance:t.distanceTo(r),point:t,object:s&&s.object3D||this.el.sceneEl.object3D});return h}}()})},function(e,t){AFRAME.registerComponent("three-ar",{schema:{takeOverCamera:{default:!0},cameraUserHeight:{default:!1},worldSensing:{default:!1}},init:function(){this.posePosition=new THREE.Vector3,this.poseQuaternion=new THREE.Quaternion,this.poseEuler=new THREE.Euler(0,0,0,"YXZ"),this.poseRotation=new THREE.Vector3,this.projectionMatrix=new THREE.Matrix4,this.onceSceneLoaded=this.onceSceneLoaded.bind(this),this.el.sceneEl.hasLoaded?setTimeout(this.onceSceneLoaded):this.el.sceneEl.addEventListener("loaded",this.onceSceneLoaded)},tick:function(e,t){if(this.arDisplay&&this.arDisplay.getFrameData){this.arView&&this.arView.render(),this.frameData||(this.frameData=new VRFrameData),this.arDisplay.getFrameData(this.frameData),this.posePosition.fromArray(this.frameData.pose.position),this.poseQuaternion.fromArray(this.frameData.pose.orientation),this.poseEuler.setFromQuaternion(this.poseQuaternion),this.poseRotation.set(THREE.Math.RAD2DEG*this.poseEuler.x,THREE.Math.RAD2DEG*this.poseEuler.y,THREE.Math.RAD2DEG*this.poseEuler.z),this.arCamera&&this.data.cameraUserHeight&&(this.posePosition.y+=this.arCamera.el.components.camera.data.userHeight);var a=this.posePosition.x||this.posePosition.y||this.posePosition.z||this.poseQuaternion.x||this.poseQuaternion.y||this.poseQuaternion.z;a?this.poseLost!==!1&&(this.poseLost=!1,this.el.emit("poseFound")):this.poseLost!==!0&&(this.poseLost=!0,this.el.emit("poseLost",!1)),this.projectionMatrix.fromArray(this.frameData.leftProjectionMatrix)}},takeOverCamera:function(e){this.arCamera=e,e.isARPerspectiveCamera=!0,e.vrDisplay=this.arDisplay,e.el.setAttribute("ar-camera","enabled",!0)},onceSceneLoaded:function(){var e=this;window.addEventListener("ardisplayconnect",function(){e.arDisplay||e.checkForARDisplay()}),this.checkForARDisplay()},checkForARDisplay:function(){var e=this;THREE.ARUtils.getARDisplay().then(function(t){if(e.arDisplay=t,t){var a=e.el.sceneEl;e.data.takeOverCamera&&setTimeout(function(){e.takeOverCamera(a.camera)}),a.renderer.alpha=!0,a.renderer.autoClearColor=THREE.ARUtils.isARKit(t)&&!window.WebARonARKitSendsCameraFrames,a.renderer.autoClearDepth=!0,e.arView=new THREE.ARView(t,a.renderer)}})},getPosition:function(){return this.arDisplay&&this.arDisplay.getFrameData?this.posePosition:null},getOrientation:function(){return this.arDisplay&&this.arDisplay.getFrameData?this.poseQuaternion:null},getRotation:function(){return this.arDisplay&&this.arDisplay.getFrameData?this.poseRotation:null},getProjectionMatrix:function(){return this.arDisplay&&this.arDisplay.getFrameData?this.projectionMatrix:null},hitAR:function(){var e=new THREE.Matrix4,t=new THREE.Vector3,a=new THREE.Quaternion,i=new THREE.Vector3,r=new THREE.Vector3;return function(n,o,s,c){if(!this.arDisplay||!this.arDisplay.hitTest)return[];for(var l=this.arDisplay.hitTest(n,o),h=[],d=0;l&&d<l.length;d++)e.fromArray(l[d].modelMatrix),e.decompose(t,a,i),c.object3D.getWorldPosition(r),h.push({distance:t.distanceTo(r),point:t,object:s&&s.object3D||this.el.sceneEl.object3D});return h}}()})}]);